<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sun position: main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sun position
   &#160;<span id="projectnumber">0.1.5-1</span>
   </div>
   <div id="projectbrief">Sun position algorithm</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('main_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="main_8c.html" title="main.c - Simple demo program for Sun position using rectangular coordinates">main.c</a> - Simple demo program for Sun position using rectangular coordinates  
<a href="#details">More...</a></p>

<p><a href="main_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae8d666eaaaf47379b31737d2a5882d83"><td class="memItemLeft" align="right" valign="top"><a id="ae8d666eaaaf47379b31737d2a5882d83"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae8d666eaaaf47379b31737d2a5882d83">SITE_LATITUDE_deg</a>&#160;&#160;&#160;-37.8236</td></tr>
<tr class="memdesc:ae8d666eaaaf47379b31737d2a5882d83"><td class="mdescLeft">&#160;</td><td class="mdescRight">North lats +ve, south -ve (deg) <br  />
 <br /></td></tr>
<tr class="separator:ae8d666eaaaf47379b31737d2a5882d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ce29015120e7839c01b534f3f5ea69"><td class="memItemLeft" align="right" valign="top"><a id="ad5ce29015120e7839c01b534f3f5ea69"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ad5ce29015120e7839c01b534f3f5ea69">SITE_LONGITUDE_deg</a>&#160;&#160;&#160;144.9913</td></tr>
<tr class="memdesc:ad5ce29015120e7839c01b534f3f5ea69"><td class="mdescLeft">&#160;</td><td class="mdescRight">East lons +ve, west -ve (degrees) <br /></td></tr>
<tr class="separator:ad5ce29015120e7839c01b534f3f5ea69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a54cf5e6da80406862f512ea75d0a6"><td class="memItemLeft" align="right" valign="top"><a id="a21a54cf5e6da80406862f512ea75d0a6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a21a54cf5e6da80406862f512ea75d0a6">SITE_HEIGHT_m</a>&#160;&#160;&#160;30.0</td></tr>
<tr class="memdesc:a21a54cf5e6da80406862f512ea75d0a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Height above sea level (metres) <br  />
 <br /></td></tr>
<tr class="separator:a21a54cf5e6da80406862f512ea75d0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf70541b75040a1c399e3f38f96b485"><td class="memItemLeft" align="right" valign="top"><a id="abaf70541b75040a1c399e3f38f96b485"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#abaf70541b75040a1c399e3f38f96b485">SITE_PRESSURE_hPa</a>&#160;&#160;&#160;1013.0</td></tr>
<tr class="memdesc:abaf70541b75040a1c399e3f38f96b485"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atmospheric pressure (hPa = mbar) <br /></td></tr>
<tr class="separator:abaf70541b75040a1c399e3f38f96b485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0805bd20d287326161f673eb4004600"><td class="memItemLeft" align="right" valign="top"><a id="ae0805bd20d287326161f673eb4004600"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae0805bd20d287326161f673eb4004600">SITE_TEMPERATURE_degC</a>&#160;&#160;&#160;15.0</td></tr>
<tr class="memdesc:ae0805bd20d287326161f673eb4004600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temperature (degrees Celsius) <br  />
 <br /></td></tr>
<tr class="separator:ae0805bd20d287326161f673eb4004600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a894182ebbad2c9ccd77ab206aab45401"><td class="memItemLeft" align="right" valign="top"><a id="a894182ebbad2c9ccd77ab206aab45401"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a894182ebbad2c9ccd77ab206aab45401">SITE_TIMEZONE_h</a>&#160;&#160;&#160;10.0</td></tr>
<tr class="memdesc:a894182ebbad2c9ccd77ab206aab45401"><td class="mdescLeft">&#160;</td><td class="mdescRight">East zones +ve, west -ve (hours) <br /></td></tr>
<tr class="separator:a894182ebbad2c9ccd77ab206aab45401"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1e4ce4fefd4fcee5ddf10b3e7b2b9ea5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a1e4ce4fefd4fcee5ddf10b3e7b2b9ea5">demo1</a> (void)</td></tr>
<tr class="memdesc:a1e4ce4fefd4fcee5ddf10b3e7b2b9ea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample code demonstrating the calculation of the position of the Sun using rectangular coordinates.  <a href="main_8c.html#a1e4ce4fefd4fcee5ddf10b3e7b2b9ea5">More...</a><br /></td></tr>
<tr class="separator:a1e4ce4fefd4fcee5ddf10b3e7b2b9ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae916f1bc9b0d73b4e1221d325c364e4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae916f1bc9b0d73b4e1221d325c364e4b">demo2</a> (void)</td></tr>
<tr class="memdesc:ae916f1bc9b0d73b4e1221d325c364e4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample code using the greatly simplified calculation of the position of the Sun using interpolated coordinates.  <a href="main_8c.html#ae916f1bc9b0d73b4e1221d325c364e4b">More...</a><br /></td></tr>
<tr class="separator:ae916f1bc9b0d73b4e1221d325c364e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88607797700fa6fd0127026142a2139e"><td class="memItemLeft" align="right" valign="top"><a id="a88607797700fa6fd0127026142a2139e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>demo4</b> (void)</td></tr>
<tr class="separator:a88607797700fa6fd0127026142a2139e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554921ba34b2560dab6eb9df3d317b5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a554921ba34b2560dab6eb9df3d317b5d">sunTopocentricFast</a> (double j2kUtc_d, const <a class="el" href="struct_sky___delta_ts.html">Sky_DeltaTs</a> *dTs, const <a class="el" href="struct_sky___site_prop.html">Sky_SiteProp</a> *site, <a class="el" href="struct_sky___site_horizon.html">Sky_SiteHorizon</a> *topo)</td></tr>
<tr class="memdesc:a554921ba34b2560dab6eb9df3d317b5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses previously calculated values of the Sun's apparent coordinates and interpolation to quickly calculate the Sun's topocentric position.  <a href="main_8c.html#a554921ba34b2560dab6eb9df3d317b5d">More...</a><br /></td></tr>
<tr class="separator:a554921ba34b2560dab6eb9df3d317b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top"><a id="a840291bc02cba5474a4cb46a9b9566fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (void)</td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="main_8c.html" title="main.c - Simple demo program for Sun position using rectangular coordinates">main.c</a> - Simple demo program for Sun position using rectangular coordinates </p>
<dl class="section author"><dt>Author</dt><dd>David Hoadley <a href="#" onclick="location.href='mai'+'lto:'+'vcr'+'um'+'ble'+'@w'+'est'+'ne'+'t.c'+'om'+'.au'; return false;">vcrum<span style="display: none;">.nosp@m.</span>ble@<span style="display: none;">.nosp@m.</span>westn<span style="display: none;">.nosp@m.</span>et.c<span style="display: none;">.nosp@m.</span>om.au</a></dd></dl>
<p>See <a class="el" href="index.html">the main page</a> (or the end of this source file) for a description of this file.</p>
<dl class="section copyright"><dt>Copyright</dt><dd><p class="startdd">Copyright (c) 2020, David Hoadley <a href="#" onclick="location.href='mai'+'lto:'+'vcr'+'um'+'ble'+'@w'+'est'+'ne'+'t.c'+'om'+'.au'; return false;">vcrum<span style="display: none;">.nosp@m.</span>ble@<span style="display: none;">.nosp@m.</span>westn<span style="display: none;">.nosp@m.</span>et.c<span style="display: none;">.nosp@m.</span>om.au</a> All rights reserved.</p>
<p class="interdd">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ul>
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
</ul>
<p class="enddd">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>
</dd></dl>
<hr  />
 
<p class="definition">Definition in file <a class="el" href="main_8c_source.html">main.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1e4ce4fefd4fcee5ddf10b3e7b2b9ea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4ce4fefd4fcee5ddf10b3e7b2b9ea5">&#9670;&nbsp;</a></span>demo1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void demo1 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sample code demonstrating the calculation of the position of the Sun using rectangular coordinates. </p>
<hr  />
 <dl class="section examples"><dt>Examples</dt><dd><a class="el" href="demo1_sun_8c-example.html#a0">demo1_sun.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l00131">131</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

</div>
</div>
<a id="ae916f1bc9b0d73b4e1221d325c364e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae916f1bc9b0d73b4e1221d325c364e4b">&#9670;&nbsp;</a></span>demo2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void demo2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sample code using the greatly simplified calculation of the position of the Sun using interpolated coordinates. </p>
<hr  />
 <dl class="section examples"><dt>Examples</dt><dd><a class="el" href="demo2_sun_tracking_8c-example.html#a0">demo2_sun_tracking.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l00171">171</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

</div>
</div>
<a id="a554921ba34b2560dab6eb9df3d317b5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a554921ba34b2560dab6eb9df3d317b5d">&#9670;&nbsp;</a></span>sunTopocentricFast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sunTopocentricFast </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>j2kUtc_d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sky___delta_ts.html">Sky_DeltaTs</a> *&#160;</td>
          <td class="paramname"><em>dTs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sky___site_prop.html">Sky_SiteProp</a> *&#160;</td>
          <td class="paramname"><em>site</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sky___site_horizon.html">Sky_SiteHorizon</a> *&#160;</td>
          <td class="paramname"><em>topo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses previously calculated values of the Sun's apparent coordinates and interpolation to quickly calculate the Sun's topocentric position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">j2kUtc_d</td><td>Days since Greenwich noon, 1-Jan-2000, UTC timescale </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deltas</td><td>Delta T values, as set by the <a class="el" href="sky_8h.html#abf770ba7cb996e73f59f41f24b172e3a" title="This is one of three alternative routines for setting up the various delta time values for use in ong...">sky_initTime()</a> (or <a class="el" href="sky_8h.html#a15ad9a782e54212cb22bd0658b6541a0" title="This is one of three alternative routines for setting up the various delta time values for use in ong...">sky_initTimeSimple()</a> or <a class="el" href="sky_8h.html#a4295dc6df66f02c4def3160782a06902" title="This is one of three alternative routines for setting up the various delta time values for use in ong...">sky_initTimeDetailed()</a>) routines </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">site</td><td>Properties of the observing site, particularly its geometric location on the surface of the Earth, as set by the <a class="el" href="sky_8h.html#a185862b772bcb6ef6eebf5cb33de09a6" title="Initialise the site structure by calculating those site-related values that do not change with time.">sky_setSiteLocation()</a> function (or <a class="el" href="sky_8h.html#a031a736d11ac57f7bf73cb8f68bb5aec" title="Alternative initialisation function to sky_setSiteLocation().">sky_setSiteLoc2()</a>) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">topo</td><td>Topocentric position, in both rectangular (unit vector) form, and as Azimuth and Elevation (altitude) angles</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>When to call this function</dt><dd>This function is designed to be called at high frequency (more than once per second, even up to, say, 20 Hz). </dd></dl>
<dl class="section user"><dt></dt><dd>Use this function when you have made a previous call to <a class="el" href="skyfast_8h.html#ac22205943c218e19d4313fc71dda43d4" title="Initialise those items that take a long time to calculate, but which do not need to be recalculated f...">skyfast_init()</a>. Depending on how long a period you want to track the sun using this routine, you may also need to run the function <a class="el" href="skyfast_8h.html#a3e351824c719ae6e465c1886a20a1a9c" title="Recalculation of the low frequency quantities.">skyfast_backgroundUpdate()</a> as a low frequency, low priority routine, to update the interpolation ranges. If you have not done this, call <a class="el" href="sun_8h.html#ac555d348d21360e65ff644212d7f84b4" title="Calls sun_nrelApparent() to calculate the Sun&#39;s position in apparent coordinates using the NREL Sun P...">sun_nrelTopocentric()</a> instead.</dd></dl>
<hr  />
 <dl class="section examples"><dt>Examples</dt><dd><a class="el" href="demo2_sun_tracking_8c-example.html#a17">demo2_sun_tracking.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l00082">82</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
