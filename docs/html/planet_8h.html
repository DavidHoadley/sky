<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sun position: planet.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sun position
   &#160;<span id="projectnumber">0.1.6-1</span>
   </div>
   <div id="projectbrief">Sun position algorithm</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('planet_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">planet.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="planet_8h.html" title="planet.h - Astronomical routines to get the positions of planets">planet.h</a> - Astronomical routines to get the positions of planets  
<a href="#details">More...</a></p>

<p><a href="planet_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abd6638052f0e3b0e693f604871d752cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planet_8h.html#abd6638052f0e3b0e693f604871d752cf">planet_setCurrent</a> (int np)</td></tr>
<tr class="memdesc:abd6638052f0e3b0e693f604871d752cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the selected planet number <em>np</em> in internal storage for later use by <a class="el" href="planet_8h.html#a96b2ba1bce82bbd875d0740576a24262" title="Calculate the position of the currently selected planet as a unit vector and a distance,...">planet_getApparent()</a> or <a class="el" href="planet_8h.html#ae551d337a5eb752a7e5e56417392e923" title="Calls planet_getApparent() to calculate the planet&#39;s position in apparent coordinates,...">planet_getTopocentric()</a>  <a href="planet_8h.html#abd6638052f0e3b0e693f604871d752cf">More...</a><br /></td></tr>
<tr class="separator:abd6638052f0e3b0e693f604871d752cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5537e7fa6dc7a119db7480f6c41a083a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planet_8h.html#a5537e7fa6dc7a119db7480f6c41a083a">planet_getApp2</a> (double t_cy, int np, const <a class="el" href="struct_sky1___nut1980.html">Sky1_Nut1980</a> *nut, <a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *appV, double *dist_au)</td></tr>
<tr class="memdesc:a5537e7fa6dc7a119db7480f6c41a083a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the specified planet's position in apparent coordinates, using the <a class="el" href="planet_8h.html#aac8668ecd824c8cebe01d3177eac7dc0" title="Calculates an approximate position of the selected planet as seen from the centre of the earth.">planet_getGeocentric()</a> and <a class="el" href="planet_8h.html#a00375bff8432800a290e6bc59573bbda" title="Calculates an approximate heliocentric position of the selected planet.">planet_getHeliocentric()</a> functions <br  />
  <a href="planet_8h.html#a5537e7fa6dc7a119db7480f6c41a083a">More...</a><br /></td></tr>
<tr class="separator:a5537e7fa6dc7a119db7480f6c41a083a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b2ba1bce82bbd875d0740576a24262"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planet_8h.html#a96b2ba1bce82bbd875d0740576a24262">planet_getApparent</a> (double j2kTT_cy, <a class="el" href="struct_sky___true_equatorial.html">Sky_TrueEquatorial</a> *pos)</td></tr>
<tr class="memdesc:a96b2ba1bce82bbd875d0740576a24262"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the position of the currently selected planet as a unit vector and a distance, in apparent coordinates.  <a href="planet_8h.html#a96b2ba1bce82bbd875d0740576a24262">More...</a><br /></td></tr>
<tr class="separator:a96b2ba1bce82bbd875d0740576a24262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae551d337a5eb752a7e5e56417392e923"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planet_8h.html#ae551d337a5eb752a7e5e56417392e923">planet_getTopocentric</a> (double j2kUtc_d, const <a class="el" href="struct_sky___delta_ts.html">Sky_DeltaTs</a> *deltas, const <a class="el" href="struct_sky___site_prop.html">Sky_SiteProp</a> *site, <a class="el" href="struct_sky___site_horizon.html">Sky_SiteHorizon</a> *topo)</td></tr>
<tr class="memdesc:ae551d337a5eb752a7e5e56417392e923"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="planet_8h.html#a96b2ba1bce82bbd875d0740576a24262" title="Calculate the position of the currently selected planet as a unit vector and a distance,...">planet_getApparent()</a> to calculate the planet's position in apparent coordinates, and then converts this to topocentric horizon coordinates at the specified site.  <a href="planet_8h.html#ae551d337a5eb752a7e5e56417392e923">More...</a><br /></td></tr>
<tr class="separator:ae551d337a5eb752a7e5e56417392e923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8668ecd824c8cebe01d3177eac7dc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planet_8h.html#aac8668ecd824c8cebe01d3177eac7dc0">planet_getGeocentric</a> (double t_cy, int np, <a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *p2V, double *dist_au)</td></tr>
<tr class="memdesc:aac8668ecd824c8cebe01d3177eac7dc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates an approximate position of the selected planet as seen from the centre of the earth.  <a href="planet_8h.html#aac8668ecd824c8cebe01d3177eac7dc0">More...</a><br /></td></tr>
<tr class="separator:aac8668ecd824c8cebe01d3177eac7dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00375bff8432800a290e6bc59573bbda"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planet_8h.html#a00375bff8432800a290e6bc59573bbda">planet_getHeliocentric</a> (double t_cy, int np, <a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *j2kV_au, <a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *velV_aupd)</td></tr>
<tr class="memdesc:a00375bff8432800a290e6bc59573bbda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates an approximate heliocentric position of the selected planet.  <a href="planet_8h.html#a00375bff8432800a290e6bc59573bbda">More...</a><br /></td></tr>
<tr class="separator:a00375bff8432800a290e6bc59573bbda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="planet_8h.html" title="planet.h - Astronomical routines to get the positions of planets">planet.h</a> - Astronomical routines to get the positions of planets </p>
<dl class="section author"><dt>Author</dt><dd>David Hoadley, based on a routine from the IAU's SOFA collection</dd></dl>
<p>Routines to obtain a specified planet's position and convert that position to apparent coordinates and/or topocentric coordinates.</p>
<hr  />
 
<p class="definition">Definition in file <a class="el" href="planet_8h_source.html">planet.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="abd6638052f0e3b0e693f604871d752cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd6638052f0e3b0e693f604871d752cf">&#9670;&nbsp;</a></span>planet_setCurrent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void planet_setCurrent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>np</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the selected planet number <em>np</em> in internal storage for later use by <a class="el" href="planet_8h.html#a96b2ba1bce82bbd875d0740576a24262" title="Calculate the position of the currently selected planet as a unit vector and a distance,...">planet_getApparent()</a> or <a class="el" href="planet_8h.html#ae551d337a5eb752a7e5e56417392e923" title="Calls planet_getApparent() to calculate the planet&#39;s position in apparent coordinates,...">planet_getTopocentric()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">np</td><td>Desired planet.<br  />
 1=Mercury, 2=Venus, 3=Earth-Moon Barycentre, 4=Mars,<br  />
 5=Jupiter, 6=Saturn, 7=Uranus, 8=Neptune<br  />
 Numbers outside this range will cause an assertion failure</td></tr>
  </table>
  </dd>
</dl>
<hr  />
 
<p class="definition">Definition at line <a class="el" href="planet_8c_source.html#l00089">89</a> of file <a class="el" href="planet_8c_source.html">planet.c</a>.</p>

</div>
</div>
<a id="a5537e7fa6dc7a119db7480f6c41a083a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5537e7fa6dc7a119db7480f6c41a083a">&#9670;&nbsp;</a></span>planet_getApp2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void planet_getApp2 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t_cy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>np</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sky1___nut1980.html">Sky1_Nut1980</a> *&#160;</td>
          <td class="paramname"><em>nut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *&#160;</td>
          <td class="paramname"><em>appV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>dist_au</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calculates the specified planet's position in apparent coordinates, using the <a class="el" href="planet_8h.html#aac8668ecd824c8cebe01d3177eac7dc0" title="Calculates an approximate position of the selected planet as seen from the centre of the earth.">planet_getGeocentric()</a> and <a class="el" href="planet_8h.html#a00375bff8432800a290e6bc59573bbda" title="Calculates an approximate heliocentric position of the selected planet.">planet_getHeliocentric()</a> functions <br  />
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t_cy</td><td>Julian centuries since J2000.0, TT timescale </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">np</td><td>Desired planet.<br  />
 1=Mercury, 2=Venus, 3=Earth-Moon Barycentre, 4=Mars,<br  />
 5=Jupiter, 6=Saturn, 7=Uranus, 8=Neptune<br  />
 Numbers outside this range will cause an assertion failure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nut</td><td>Nutation terms and obliquity of the ecliptic, as returned by functions <a class="el" href="sky1_8h.html#a61813485e959ed0208086d946e33ad4c" title="Calculates the nutation in longitude and obliquity, according to the IAU 1980 Nutation Theory.">sky1_nutationIAU1980()</a> and <a class="el" href="sky1_8h.html#a956ebf3c1277943e770093830777ca0d" title="Calculate the obliquity of the ecliptic and the equation of the equinoxes.">sky1_epsilon1980()</a></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">appV</td><td>Position vector of planet in apparent coordinates (unit vector i.e. direction cosines) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dist_au</td><td>Geocentric distance of the planet (Astronomical Units)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>When to call this function</dt><dd>In most cases, you will want to call <a class="el" href="planet_8h.html#a96b2ba1bce82bbd875d0740576a24262" title="Calculate the position of the currently selected planet as a unit vector and a distance,...">planet_getApparent()</a> or <a class="el" href="planet_8h.html#ae551d337a5eb752a7e5e56417392e923" title="Calls planet_getApparent() to calculate the planet&#39;s position in apparent coordinates,...">planet_getTopocentric()</a> instead, and those functions call this function for you. </dd></dl>

<p class="definition">Definition at line <a class="el" href="planet_8c_source.html#l00105">105</a> of file <a class="el" href="planet_8c_source.html">planet.c</a>.</p>

</div>
</div>
<a id="a96b2ba1bce82bbd875d0740576a24262"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96b2ba1bce82bbd875d0740576a24262">&#9670;&nbsp;</a></span>planet_getApparent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void planet_getApparent </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>j2kTT_cy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sky___true_equatorial.html">Sky_TrueEquatorial</a> *&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the position of the currently selected planet as a unit vector and a distance, in apparent coordinates. </p>
<p>It calls <a class="el" href="planet_8h.html#a5537e7fa6dc7a119db7480f6c41a083a" title="This function calculates the specified planet&#39;s position in apparent coordinates, using the planet_ge...">planet_getApp2()</a> to obtain the planet's position, after having called <a class="el" href="sky1_8h.html#a61813485e959ed0208086d946e33ad4c" title="Calculates the nutation in longitude and obliquity, according to the IAU 1980 Nutation Theory.">sky1_nutationIAU1980()</a> to obtain the necessary nutation terms. <br  />
 This function is designed to be callable by the <a class="el" href="skyfast_8h.html#ac22205943c218e19d4313fc71dda43d4" title="Initialise those items that take a long time to calculate, but which do not need to be recalculated f...">skyfast_init()</a> and <a class="el" href="skyfast_8h.html#a3e351824c719ae6e465c1886a20a1a9c" title="Recalculation of the low frequency quantities.">skyfast_backgroundUpdate()</a> functions in a tracking application. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">j2kTT_cy</td><td>Julian centuries since J2000.0, TT timescale </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pos</td><td>Timestamped structure containing position data and the equation of the equinoxes</td></tr>
  </table>
  </dd>
</dl>
<p>The planet whose coordinates are obtained with this function is the planet most recently specified with <a class="el" href="planet_8h.html#abd6638052f0e3b0e693f604871d752cf" title="Stores the selected planet number np in internal storage for later use by planet_getApparent() or pla...">planet_setCurrent()</a></p>
<hr  />
 
<p class="definition">Definition at line <a class="el" href="planet_8c_source.html#l00154">154</a> of file <a class="el" href="planet_8c_source.html">planet.c</a>.</p>

</div>
</div>
<a id="ae551d337a5eb752a7e5e56417392e923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae551d337a5eb752a7e5e56417392e923">&#9670;&nbsp;</a></span>planet_getTopocentric()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void planet_getTopocentric </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>j2kUtc_d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sky___delta_ts.html">Sky_DeltaTs</a> *&#160;</td>
          <td class="paramname"><em>deltas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sky___site_prop.html">Sky_SiteProp</a> *&#160;</td>
          <td class="paramname"><em>site</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sky___site_horizon.html">Sky_SiteHorizon</a> *&#160;</td>
          <td class="paramname"><em>topo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls <a class="el" href="planet_8h.html#a96b2ba1bce82bbd875d0740576a24262" title="Calculate the position of the currently selected planet as a unit vector and a distance,...">planet_getApparent()</a> to calculate the planet's position in apparent coordinates, and then converts this to topocentric horizon coordinates at the specified site. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">j2kUtc_d</td><td>UTC time in "J2KD" form - i.e days since J2000.0 (= JD - 2 451 545.0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deltas</td><td>Delta T values, as set by the <a class="el" href="sky_8h.html#abf770ba7cb996e73f59f41f24b172e3a" title="This is one of three alternative routines for setting up the various delta time values for use in ong...">sky_initTime()</a> (or <a class="el" href="sky_8h.html#a15ad9a782e54212cb22bd0658b6541a0" title="This is one of three alternative routines for setting up the various delta time values for use in ong...">sky_initTimeSimple()</a> or <a class="el" href="sky_8h.html#a4295dc6df66f02c4def3160782a06902" title="This is one of three alternative routines for setting up the various delta time values for use in ong...">sky_initTimeDetailed()</a>) routines </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">site</td><td>Properties of the observing site, particularly its geometric location on the surface of the Earth, as set by the <a class="el" href="sky_8h.html#a185862b772bcb6ef6eebf5cb33de09a6" title="Initialise the site structure by calculating those site-related values that do not change with time.">sky_setSiteLocation()</a> function (or <a class="el" href="sky_8h.html#a031a736d11ac57f7bf73cb8f68bb5aec" title="Alternative initialisation function to sky_setSiteLocation().">sky_setSiteLoc2()</a>) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">topo</td><td>Topocentric position, in both rectangular (unit vector) form, and as Azimuth and Elevation (altitude) angles</td></tr>
  </table>
  </dd>
</dl>
<p>You will need to call <a class="el" href="planet_8h.html#abd6638052f0e3b0e693f604871d752cf" title="Stores the selected planet number np in internal storage for later use by planet_getApparent() or pla...">planet_setCurrent()</a> before calling this function to select the planet whose coordinates you want.</p>
<dl class="section user"><dt>When to call this function</dt><dd>Use this function if you are calculating the planet topocentric position once, for a single site. But if you are going to be calculating it repeatedly, or for multiple sites, use of this function will cause you to perform a great many needless recalculations. Use <a class="el" href="skyfast_8h.html#afb9144e153624a3bf899af40eca07ac0" title="Get the best approximation to the celestial object&#39;s apparent coordinates and distance,...">skyfast_getApprox()</a>, followed by <a class="el" href="sky1_8h.html#aa5023b9fbc0669c62f1422e13e5a6df1" title="Convert a position in geocentric apparent coordinates to geocentric coordinates in the Terrestrial In...">sky1_appToTirs()</a> and <a class="el" href="sky_8h.html#a0797b1e268ac7cc5b052c0623883eb74" title="Transform a coordinate vector from the Terrestrial Intermediate Reference System to topocentric Az/El...">sky_siteTirsToTopo()</a> instead.</dd></dl>
<hr  />
 
<p class="definition">Definition at line <a class="el" href="planet_8c_source.html#l00195">195</a> of file <a class="el" href="planet_8c_source.html">planet.c</a>.</p>

</div>
</div>
<a id="aac8668ecd824c8cebe01d3177eac7dc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac8668ecd824c8cebe01d3177eac7dc0">&#9670;&nbsp;</a></span>planet_getGeocentric()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void planet_getGeocentric </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t_cy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>np</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *&#160;</td>
          <td class="paramname"><em>p2V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>dist_au</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates an approximate position of the selected planet as seen from the centre of the earth. </p>
<p>This function calls <a class="el" href="planet_8h.html#a00375bff8432800a290e6bc59573bbda" title="Calculates an approximate heliocentric position of the selected planet.">planet_getHeliocentric()</a> for the desired planet. It then (as an approximation) calls this routine again for the position of the Earth and uses this to obtain the geocentric position of the planet. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t_cy</td><td>Julian centuries since J2000.0, TT timescale </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">np</td><td>Desired planet.<br  />
 1=Mercury, 2=Venus, 3=Earth-Moon Barycentre, 4=Mars,<br  />
 5=Jupiter, 6=Saturn, 7=Uranus, 8=Neptune<br  />
 Numbers outside this range will cause an assertion failure</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p2V</td><td>Position vector of planet in J2000.0 coordinates (unit vector i.e. direction cosines) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dist_au</td><td>Geocentric distance of the planet (Astronomical Units)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Calling <a class="el" href="planet_8h.html#a00375bff8432800a290e6bc59573bbda" title="Calculates an approximate heliocentric position of the selected planet.">planet_getHeliocentric()</a> for the position of the Earth actually returns the position of the Earth-Moon barycenter, rather than the position of the Earth. But the error that is introduced by doing this seems to be relatively small, somewhere in the 10's of arcseconds. So long as a planetary position that is within an arcminute is all you need, this routine should be perfectly OK. </dd>
<dd>
<a class="el" href="planet_8h.html#a00375bff8432800a290e6bc59573bbda" title="Calculates an approximate heliocentric position of the selected planet.">planet_getHeliocentric()</a> uses an iterative approach to calculating planetary positions. If for some reason that does not converge, this function will set <em>p2V</em> and <em>dist_au</em> to zero.</dd></dl>
<hr  />
 
<p class="definition">Definition at line <a class="el" href="planet_8c_source.html#l00242">242</a> of file <a class="el" href="planet_8c_source.html">planet.c</a>.</p>

</div>
</div>
<a id="a00375bff8432800a290e6bc59573bbda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00375bff8432800a290e6bc59573bbda">&#9670;&nbsp;</a></span>planet_getHeliocentric()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int planet_getHeliocentric </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t_cy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>np</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *&#160;</td>
          <td class="paramname"><em>j2kV_au</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *&#160;</td>
          <td class="paramname"><em>velV_aupd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates an approximate heliocentric position of the selected planet. </p>
<dl class="section return"><dt>Returns</dt><dd>Error code:<br  />
 0 = OK, 1 = warning, reduced precision: year outside 1000&ndash;3000, 2 = error, failed to converge. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t_cy</td><td>Julian centuries since J2000.0, TDB (or TT) timescale </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">np</td><td>Desired planet.<br  />
 1=Mercury, 2=Venus, 3=Earth-Moon Barycentre, 4=Mars,<br  />
 5=Jupiter, 6=Saturn, 7=Uranus, 8=Neptune<br  />
 Numbers outside this range will cause an assertion failure </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">j2kV_au</td><td>Heliocentric position of planet referred to J2000.0 mean equator and equinox. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">velV_aupd</td><td>(Optional) Velocity vector of the planet (AU/day), also referred to J2000.0 equator and equinox. If you are not interested in this value, you can pass NULL to this argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is a modified implementation of the <code>iauPlan94()</code> function from the International Astronomical Union's (IAU) Standards of Fundamental Astronomy (SOFA) collection. See the SOFA Software License at the end of this function's C source code. According to the requirements of that license, here are the required declarations. </dd>
<dd>
Condition 3(a). This software is derived by David Hoadley from licensed SOFA code (i.e. routine <code>iauPlan94()</code>). It does not itself constitute software provided by and/or endorsed by SOFA. </dd>
<dd>
Condition 3(b). This function differs from the original SOFA routine in that<ol type="1">
<li>The input and output arguments have been altered to match the conventions used elsewhere in this software.<br  />
 time:<ul>
<li>here: time is input as Julian centuries since J2000.0, TT</li>
<li>SOFA: time is input as a Julian date in two parts, TDB<br  />
</li>
</ul>
outputs:<ul>
<li>here: a position vector scaled in AU, and an optional velocity vector in AU/d</li>
<li>SOFA: a 2x3 element array giving both position and velocity in AU and AU/d respectively.</li>
</ul>
</li>
<li>A requested planet outside the range 1&ndash;8 does not return an error code. Such a request is a programming error, so instead it generates a precondition failure (an assertion failure). Also, the output vectors are not zero'd if this precondition failure occurs.</li>
<li>The names of some constants have been changed to use the names we already have in use, and in the process "de-FORTRAN-ised", making them more comprehensible.<br  />
 D2PI -&gt; TWOPI<br  />
 DAS2R -&gt; ARCSEC2RAD</li>
<li>An assertion test added to check for a NULL pointer being passed for <em>j2kV</em> </li>
<li>Calls our own <a class="el" href="instead-of-math_8h.html#a06e957a5e5c08a30b4ea3c02f2664405" title="Normalizes a cyclic double precision floating point variable x to the interval [0,...">normalize()</a> function instead of the SOFA routine <code>iauAnp()</code> </li>
</ol>
Condition 3(e). If you make any modification to this software, or copy any part of it for incorporation elsewhere, you must include the SOFA Software License exactly as it appears at the end of this function.</dd></dl>
<hr  />
 
<p class="definition">Definition at line <a class="el" href="planet_8c_source.html#l00344">344</a> of file <a class="el" href="planet_8c_source.html">planet.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="planet_8h.html">planet.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
