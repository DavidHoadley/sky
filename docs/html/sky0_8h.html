<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sun position: sky0.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sun position
   &#160;<span id="projectnumber">0.1.5-1</span>
   </div>
   <div id="projectbrief">Sun position algorithm</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sky0_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sky0.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="sky0_8h.html" title="sky0.h - astronomical coordinate conversion for NREL Sun Position Algorithm">sky0.h</a> - astronomical coordinate conversion for NREL Sun Position Algorithm  
<a href="#details">More...</a></p>

<p><a href="sky0_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_sky0___nut1980.html">Sky0_Nut1980</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Nutation angles and obliquity.  <a href="struct_sky0___nut1980.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7a264cd6849a45a5edc1c660c8b76aa6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sky0_8h.html#a7a264cd6849a45a5edc1c660c8b76aa6">sky0_nutationSpa</a> (double t_cy, <a class="el" href="struct_sky0___nut1980.html">Sky0_Nut1980</a> *nut)</td></tr>
<tr class="memdesc:a7a264cd6849a45a5edc1c660c8b76aa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the nutation in longitude and obliquity, according to the algorithm set out in the NREL SPA document.  <a href="sky0_8h.html#a7a264cd6849a45a5edc1c660c8b76aa6">More...</a><br /></td></tr>
<tr class="separator:a7a264cd6849a45a5edc1c660c8b76aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5955058c81d1be6ec0e466900c52c69e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sky0_8h.html#a5955058c81d1be6ec0e466900c52c69e">sky0_epsilonSpa</a> (double t_cy, <a class="el" href="struct_sky0___nut1980.html">Sky0_Nut1980</a> *nut)</td></tr>
<tr class="memdesc:a5955058c81d1be6ec0e466900c52c69e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the obliquity of the ecliptic and the equation of the equinoxes.  <a href="sky0_8h.html#a5955058c81d1be6ec0e466900c52c69e">More...</a><br /></td></tr>
<tr class="separator:a5955058c81d1be6ec0e466900c52c69e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa283558d4b41e1a3e71e46f98e4c9af6"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sky0_8h.html#aa283558d4b41e1a3e71e46f98e4c9af6">sky0_gmSiderealTimeSpa</a> (double du)</td></tr>
<tr class="memdesc:aa283558d4b41e1a3e71e46f98e4c9af6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the Greenwich mean sidereal time using the algorithm from the NREL SPA document.  <a href="sky0_8h.html#aa283558d4b41e1a3e71e46f98e4c9af6">More...</a><br /></td></tr>
<tr class="separator:aa283558d4b41e1a3e71e46f98e4c9af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420b9af8dd92d7151d5ccc253c417954"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sky0_8h.html#a420b9af8dd92d7151d5ccc253c417954">sky0_appToTirs</a> (const <a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *appV, double j2kUT1_d, double eqEq_rad, <a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *terInterV)</td></tr>
<tr class="memdesc:a420b9af8dd92d7151d5ccc253c417954"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a position in geocentric apparent coordinates to geocentric coordinates in the Terrestrial Intermediate Reference System.  <a href="sky0_8h.html#a420b9af8dd92d7151d5ccc253c417954">More...</a><br /></td></tr>
<tr class="separator:a420b9af8dd92d7151d5ccc253c417954"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="sky0_8h.html" title="sky0.h - astronomical coordinate conversion for NREL Sun Position Algorithm">sky0.h</a> - astronomical coordinate conversion for NREL Sun Position Algorithm </p>
<dl class="section author"><dt>Author</dt><dd>David Hoadley</dd></dl>
<p>This is one of three alternative modules: <a class="el" href="sky0_8h.html" title="sky0.h - astronomical coordinate conversion for NREL Sun Position Algorithm">sky0.h</a> / <a class="el" href="sky0_8c_source.html">sky0.c</a>, <a class="el" href="sky1_8h.html" title="sky1.h - astronomical coordinate conversion routines, IAU 1980">sky1.h</a> / <a class="el" href="sky1_8c_source.html">sky1.c</a> and sky2.h / sky2.c. They contain routines for transforming astronomical positions from frame to another: precession, nutation, sidereal time etc. and they reflect changes in the International Astronomical Union's precession and nutation theory. The differences are:</p><ul>
<li><a class="el" href="sky0_8h.html" title="sky0.h - astronomical coordinate conversion for NREL Sun Position Algorithm">sky0.h</a> / <a class="el" href="sky0_8c_source.html">sky0.c</a>: nutation, obliquity and sidereal time routines from the NREL Solar Position Algorithm document. These are based on the IAU 1980 nutation theory.</li>
<li><a class="el" href="sky1_8h.html" title="sky1.h - astronomical coordinate conversion routines, IAU 1980">sky1.h</a> / <a class="el" href="sky1_8c_source.html">sky1.c</a>: precession, nutation and their associated rotation matrices, obliquity and sidereal time. These are the IAU 1980 precession and nutation theory.</li>
<li>sky2.h / sky2.c: precession, nutation and their associated rotation matrices, obliquity and sidereal time. These are the newer IAU 2000 precession and nutation theory.</li>
</ul>
<p>This module (<a class="el" href="sky0_8h.html" title="sky0.h - astronomical coordinate conversion for NREL Sun Position Algorithm">sky0.h</a> / <a class="el" href="sky0_8c_source.html">sky0.c</a>) contains only those routines necessary for supporting the NREL Solar Position Algorithm and Moon Position algorithms. Basically this is a subset of the routines in the <a class="el" href="sky1_8h.html" title="sky1.h - astronomical coordinate conversion routines, IAU 1980">sky1.h</a> / <a class="el" href="sky1_8c_source.html">sky1.c</a> module. Precession is omitted, and the nutation routine uses only the largest 63 terms of the IAU 1980 nutation algorithm.</p>
<hr  />
 
<p class="definition">Definition in file <a class="el" href="sky0_8h_source.html">sky0.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7a264cd6849a45a5edc1c660c8b76aa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a264cd6849a45a5edc1c660c8b76aa6">&#9670;&nbsp;</a></span>sky0_nutationSpa()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sky0_nutationSpa </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t_cy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sky0___nut1980.html">Sky0_Nut1980</a> *&#160;</td>
          <td class="paramname"><em>nut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the nutation in longitude and obliquity, according to the algorithm set out in the NREL SPA document. </p>
<p>This is a simplified version of the IAU 1980 Nutation Theory. Calculates first the fundamental nutation arguments, and then a series of terms. There are 106 terms in the full series, but this routine uses only the largest 63 of those terms. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t_cy</td><td>centuries since J2000.0, TT timescale </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nut</td><td>field <em>nut-&gt;dPsi_rad</em> - Nutation in longitude Δψ (radian)<br  />
 field <em>nut-&gt;dEps_rad</em> - Nutation in obliquity Δε (radian)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>References:</dt><dd>Reda, I. and Andreas, A. (2003), "Solar Position Algorithm
    for Solar Radiation Applications", National Renewable Energy Laboratory, NREL publication no. NREL/TP-560-34302, section 3.4. However, the theory on which it is based, and the full sequence of terms, can be found in:<br  />
 Final report of the IAU Working Group on Nutation, chairman P.K.Seidelmann, 1980, published in <em>Celestial Mechanics</em>, Vol 27, pp79-106, 1982.<br  />
 also Kaplan,G.H. <em>USNO circular no. 163</em>, pp A3-6, 1981.<br  />
 <em>Supplement to the Astronomical Almanac</em> 1984.</dd></dl>
<dl class="section user"><dt>When to call this function</dt><dd>It is quite likely that you will not need to call this function directly. It is used in the Solar Position Algorithm and the Moon Position Algorithm, so if you call <a class="el" href="sun_8h.html#a257ebc73aa83eef26448d451eeb086da" title="Calculate the Sun&#39;s position as a unit vector and a distance, in apparent coordinates.">sun_nrelApparent()</a> or <a class="el" href="sun_8h.html#ac555d348d21360e65ff644212d7f84b4" title="Calls sun_nrelApparent() to calculate the Sun&#39;s position in apparent coordinates using the NREL Sun P...">sun_nrelTopocentric()</a>, or call <a class="el" href="moon_8h.html#ae26dfd26ce7ba3a93eaa9ac24982016d" title="Calculate the Moon&#39;s position as a unit vector and a distance, in apparent coordinates.">moon_nrelApparent()</a> or <a class="el" href="moon_8h.html#a3f0db3b9becd20ad7efe437f6e999394" title="Calls moon_nrelApparent() to calculate the Moon&#39;s position in apparent coordinates using the NREL Moo...">moon_nrelTopocentric()</a>, those routines will call this routine for you. Likewise, if you are tracking the Sun or Moon using the skyfast module, the call to <a class="el" href="skyfast_8h.html#ac22205943c218e19d4313fc71dda43d4" title="Initialise those items that take a long time to calculate, but which do not need to be recalculated f...">skyfast_init()</a> will call either <a class="el" href="sun_8h.html#a257ebc73aa83eef26448d451eeb086da" title="Calculate the Sun&#39;s position as a unit vector and a distance, in apparent coordinates.">sun_nrelApparent()</a> or <a class="el" href="moon_8h.html#ae26dfd26ce7ba3a93eaa9ac24982016d" title="Calculate the Moon&#39;s position as a unit vector and a distance, in apparent coordinates.">moon_nrelApparent()</a>, and therefore call this routine for you. </dd></dl>
<dl class="section user"><dt></dt><dd>The values calculated by this routine change only slowly. So if you are calling it yourself, you can call it infrequently. Intervals of up to an hour between calls will not introduce much error.</dd></dl>
<hr  />
 
<p class="definition">Definition at line <a class="el" href="sky0_8c_source.html#l00222">222</a> of file <a class="el" href="sky0_8c_source.html">sky0.c</a>.</p>

</div>
</div>
<a id="a5955058c81d1be6ec0e466900c52c69e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5955058c81d1be6ec0e466900c52c69e">&#9670;&nbsp;</a></span>sky0_epsilonSpa()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sky0_epsilonSpa </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t_cy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sky0___nut1980.html">Sky0_Nut1980</a> *&#160;</td>
          <td class="paramname"><em>nut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the obliquity of the ecliptic and the equation of the equinoxes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t_cy</td><td>centuries since J2000.0, TT timescale </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">nut</td><td>[in] field <em>nut-&gt;dPsi_rad</em> - Nutation in longitude Δψ, as returned by function <a class="el" href="sky0_8h.html#a7a264cd6849a45a5edc1c660c8b76aa6" title="Calculates the nutation in longitude and obliquity, according to the algorithm set out in the NREL SP...">sky0_nutationSpa()</a> (radian)<br  />
 [in] field <em>nut-&gt;dEps_rad</em> - Nutation in obliquity Δε, as returned by function <a class="el" href="sky0_8h.html#a7a264cd6849a45a5edc1c660c8b76aa6" title="Calculates the nutation in longitude and obliquity, according to the algorithm set out in the NREL SP...">sky0_nutationSpa()</a> (radian)<br  />
 [out] field <em>nut-&gt;eps0_rad</em> - Mean obliquity of the ecliptic ε0 (radian)<br  />
 [out] field <em>nut-&gt;eqEq_rad</em> - Equation of the equinoxes = Δψ * cos(ε0 + Δε) (radian) Note: not seconds</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Reference</dt><dd>Reda, I. and Andreas, A. (2003), "Solar Position Algorithm
    for Solar Radiation Applications", National Renewable Energy Laboratory, NREL publication no. NREL/TP-560-34302, section 3.5.1</dd></dl>
<dl class="section user"><dt>When to call this function</dt><dd>It is quite likely that you will not need to call this function directly. It is used in the Solar Position Algorithm and the Moon Position Algorithm, so if you call <a class="el" href="sun_8h.html#a257ebc73aa83eef26448d451eeb086da" title="Calculate the Sun&#39;s position as a unit vector and a distance, in apparent coordinates.">sun_nrelApparent()</a> or <a class="el" href="sun_8h.html#ac555d348d21360e65ff644212d7f84b4" title="Calls sun_nrelApparent() to calculate the Sun&#39;s position in apparent coordinates using the NREL Sun P...">sun_nrelTopocentric()</a>, or call <a class="el" href="moon_8h.html#ae26dfd26ce7ba3a93eaa9ac24982016d" title="Calculate the Moon&#39;s position as a unit vector and a distance, in apparent coordinates.">moon_nrelApparent()</a> or <a class="el" href="moon_8h.html#a3f0db3b9becd20ad7efe437f6e999394" title="Calls moon_nrelApparent() to calculate the Moon&#39;s position in apparent coordinates using the NREL Moo...">moon_nrelTopocentric()</a>, those routines will call this routine for you. Likewise, if you are tracking the Sun or Moon using the skyfast module, the call to <a class="el" href="skyfast_8h.html#ac22205943c218e19d4313fc71dda43d4" title="Initialise those items that take a long time to calculate, but which do not need to be recalculated f...">skyfast_init()</a> will call either <a class="el" href="sun_8h.html#a257ebc73aa83eef26448d451eeb086da" title="Calculate the Sun&#39;s position as a unit vector and a distance, in apparent coordinates.">sun_nrelApparent()</a> or <a class="el" href="moon_8h.html#ae26dfd26ce7ba3a93eaa9ac24982016d" title="Calculate the Moon&#39;s position as a unit vector and a distance, in apparent coordinates.">moon_nrelApparent()</a>, and therefore call this routine for you. </dd></dl>
<dl class="section user"><dt></dt><dd>The values calculated by this routine change only slowly. So if you are calling it yourself, you can call it infrequently. Intervals of up to an hour between calls will not introduce much error.</dd></dl>
<hr  />
 
<p class="definition">Definition at line <a class="el" href="sky0_8c_source.html#l00334">334</a> of file <a class="el" href="sky0_8c_source.html">sky0.c</a>.</p>

</div>
</div>
<a id="aa283558d4b41e1a3e71e46f98e4c9af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa283558d4b41e1a3e71e46f98e4c9af6">&#9670;&nbsp;</a></span>sky0_gmSiderealTimeSpa()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double sky0_gmSiderealTimeSpa </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>du</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the Greenwich mean sidereal time using the algorithm from the NREL SPA document. </p>
<p>This is basically the IAU 1982 algorithm, but the various constants have been scaled in degrees. </p><dl class="section return"><dt>Returns</dt><dd>Greenwich Mean Sidereal Time (radian) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">du</td><td>days since J2000.0, UT1 timescale</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Reference</dt><dd>Reda, I. and Andreas, A. (2003), "Solar Position Algorithm
    for Solar Radiation Applications", National Renewable Energy Laboratory, NREL publication no. NREL/TP-560-34302, section 3.8.1 &amp; 3.8.2</dd></dl>
<dl class="section user"><dt>When to call this function</dt><dd>If you are tracking a celestial object, you need not call this function directly. So long as you call <a class="el" href="sky0_8h.html#a420b9af8dd92d7151d5ccc253c417954" title="Convert a position in geocentric apparent coordinates to geocentric coordinates in the Terrestrial In...">sky0_appToTirs()</a> every time around your control loop, it will call this function for you.</dd></dl>
<hr  />
 
<p class="definition">Definition at line <a class="el" href="sky0_8c_source.html#l00392">392</a> of file <a class="el" href="sky0_8c_source.html">sky0.c</a>.</p>

</div>
</div>
<a id="a420b9af8dd92d7151d5ccc253c417954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420b9af8dd92d7151d5ccc253c417954">&#9670;&nbsp;</a></span>sky0_appToTirs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sky0_appToTirs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *&#160;</td>
          <td class="paramname"><em>appV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>j2kUT1_d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eqEq_rad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_v3_d___vector.html">V3D_Vector</a> *&#160;</td>
          <td class="paramname"><em>terInterV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a position in geocentric apparent coordinates to geocentric coordinates in the Terrestrial Intermediate Reference System. </p>
<p>This is the first stage of converting apparent coordinates to topocentric coordinates. The resulting vector depends upon the current rotational position of the Earth. (For the second stage, to obtain topocentric coordinates, call routine <a class="el" href="sky_8h.html#a0797b1e268ac7cc5b052c0623883eb74" title="Transform a coordinate vector from the Terrestrial Intermediate Reference System to topocentric Az/El...">sky_siteTirsToTopo()</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">appV</td><td>Position vector of apparent place (unit vector in equatorial coordinates) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">j2kUT1_d</td><td>days since J2000.0, UT1 timescale, as returned by function <a class="el" href="sky_8h.html#a03279243991e42a3edbeaac243ae2dc7" title="Convert the given &quot;J2KD&quot; in the UTC timescale to the other timescales, and pre-calculate some other q...">sky_updateTimes()</a> in the <em>j2kUT1_d</em> field of the <a class="el" href="struct_sky___times.html" title="This structure contains the continuously varying time (and earth rotation) data, in various forms tha...">Sky_Times</a> struct. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">eqEq_rad</td><td>Equation of the equinoxes (radian), as returned by function <a class="el" href="sky0_8h.html#a5955058c81d1be6ec0e466900c52c69e" title="Calculate the obliquity of the ecliptic and the equation of the equinoxes.">sky0_epsilonSpa()</a> in the <em>eqEq_rad</em> field of the <a class="el" href="struct_sky0___nut1980.html" title="Nutation angles and obliquity.">Sky0_Nut1980</a> struct.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">terInterV</td><td>Position vector in Terrestrial Intermediate Ref System</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>When to call this function</dt><dd>When you have the position of a celestial object expressed in Apparent coordinates, use this function to convert it to Terrestrial coordinates at the relevant rotational position of the earth. (Effectively you are converting from Right Ascension and Declination to the negative of the Greenwich Hour Angle and Declination.) If you are running a control loop to enable continuous tracking of this object, you will need to call this function (once) every time around your control loop. </dd></dl>
<dl class="section user"><dt></dt><dd>Follow this function with a call to <a class="el" href="sky_8h.html#a0797b1e268ac7cc5b052c0623883eb74" title="Transform a coordinate vector from the Terrestrial Intermediate Reference System to topocentric Az/El...">sky_siteTirsToTopo()</a> to obtain the object's position in topocentric coordinates at the observing site.</dd></dl>
<hr  />
 <dl class="section examples"><dt>Examples</dt><dd><a class="el" href="demo4_multiple_sites_8c-example.html#a16">demo4_multiple_sites.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sky0_8c_source.html#l00432">432</a> of file <a class="el" href="sky0_8c_source.html">sky0.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="sky0_8h.html">sky0.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
